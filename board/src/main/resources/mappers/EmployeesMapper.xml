<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.insa.mapper.EmployeesMapper">

	<!-- 등록 -->
	<insert id="insert" parameterType="EmployeesDTO">
		INSERT INTO employees (
			employee_id,
			first_name,
			last_name,
			email,
			hire_date,
			job_id,
			department_id
		)
		VALUES (
			seq_employees.nextval,
			#{employeeId},
			#{firstName},
			#{lastName},
			#{email},
			#{hireDate},
			#{jobId},
			#{employeeId},
			#{departmentId}
		)		
	</insert>
	
	
	<!-- 단건조회 -->
	<select id="read" parameterType="Long">
		select  employee_id,
				first_name,
				last_name,
				email,
				hire_date,
				job_id,
				department_id
		from employees
		where employee_id = #{employeeId}
	</select>
	
	
	<!-- 전체조회 -->
	<select id="getList" parameterType="int" resultType="EmployeesDTO">
		   select /*+index_desc(employees EMP_EMP_ID_PK)*/
		    	    employee_id,
					first_name,
					last_name,
					email,
					hire_date,
					job_id,
					department_id
		   	from employees 	
	</select>
	
	<!-- 전체조회 -->
	<select id="getListByJob" parameterType="int" resultType="JobsDTO">
		   select job_id,
				  job_title,
			      min_salary,
				  min_salary
		   	from jobs 	
	</select>
</mapper>